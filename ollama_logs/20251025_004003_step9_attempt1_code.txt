# Click the "Sign In" button inside the modal
try:
    wait = WebDriverWait(driver, 15)

    # Strategy 1: Locate by button text and known modal class
    sign_in_btn = wait.until(
        EC.element_to_be_clickable(
            (
                By.XPATH,
                "//button[contains(text(),'Sign In') and contains(@class,'css-1ru62dj') and ancestor::*[contains(@class,'modal')]]"
            )
        )
    )
except Exception:
    try:
        # Strategy 2: Fallback – any button with exact text "Sign In"
        sign_in_btn = wait.until(
            EC.element_to_be_clickable(
                (By.XPATH, "//button[normalize-space(text())='Sign In']")
            )
        )
    except Exception as e:
        print(f"✗ Could not locate Sign In button: {e}")
        raise

# Scroll into view and click using JavaScript
try:
    driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", sign_in_btn)
    time.sleep(1)  # allow any animation to settle
    driver.execute_script("arguments[0].click();", sign_in_btn)
    print("✓ Clicked 'Sign In' button (JavaScript)")
    time.sleep(2)  # wait for login processing
except Exception as e:
    print(f"✗ Failed to click Sign In button: {e}")
    raise