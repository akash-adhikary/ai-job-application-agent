from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

wait = WebDriverWait(driver, 15)

try:
    # Wait for the Apply button to be clickable (identified by its visible text)
    apply_btn = wait.until(
        EC.element_to_be_clickable((By.XPATH, "//button[normalize-space()='Apply' or @value='Apply' or contains(text(),'Apply')]"))
    )
    # Scroll the button into view before clicking
    driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", apply_btn)
    time.sleep(1)  # small pause after scrolling
    apply_btn.click()
    print("✅ Clicked the 'Apply' button.")
except Exception as e:
    print(f"❌ Failed to click the 'Apply' button: {e}")

time.sleep(2)  # allow any navigation or modal to load after click