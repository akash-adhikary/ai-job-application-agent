from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

wait = WebDriverWait(driver, 20)

def click_apply():
    try:
        apply_btn = wait.until(EC.element_to_be_clickable((By.XPATH, "//button[normalize-space()='Apply']")))
    except Exception:
        apply_btn = wait.until(EC.presence_of_element_located((By.XPATH, "//*[self::button or self::a][normalize-space()='Apply']")))
    driver.execute_script("arguments[0].scrollIntoView({block:'center'});", apply_btn)
    time.sleep(0.5)
    try:
        apply_btn.click()
        print("✓ Clicked 'Apply' button normally")
    except Exception:
        driver.execute_script("arguments[0].click();", apply_btn)
        print("✓ Clicked 'Apply' button via JavaScript")

click_apply()