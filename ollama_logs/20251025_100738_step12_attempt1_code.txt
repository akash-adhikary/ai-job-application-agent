wait = WebDriverWait(driver, 15)

clicked = False

try:
    sign_in_btn = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, "button[data-automation-id='utilityButtonSignIn']")))
    driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", sign_in_btn)
    driver.execute_script("arguments[0].click();", sign_in_btn)
    print("✓ Clicked 'Sign In' button via JS")
    clicked = True
except Exception as e:
    print(f"⚠️ Direct click failed: {e}")

if not clicked:
    try:
        sign_in_btn = driver.find_element(By.CSS_SELECTOR, "button[data-automation-id='utilityButtonSignIn']")
        sign_in_btn.click()
        print("✓ Clicked 'Sign In' button via Selenium click")
        clicked = True
    except Exception as e:
        print(f"⚠️ Selenium click failed: {e}")

if not clicked:
    try:
        # Fallback: click via JavaScript on the overlay if present
        overlay = driver.find_element(By.CSS_SELECTOR, "[data-automation-id='click_filter']")
        driver.execute_script("arguments[0].click();", overlay)
        print("✓ Clicked through click filter overlay")
    except Exception as e:
        print(f"⚠️ Overlay click also failed: {e}")