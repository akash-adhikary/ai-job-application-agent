from selenium import webdriver
from selenium.webdriver.common.by import By
import time
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import os

# Set up WebDriver instance
driver = webdriver.Chrome()

# Navigate to the webpage with the resume code
url = 'https://example.com/resume.html'  # replace with actual URL
driver.get(url)

# Wait for elements to load
WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.CSS_SELECTOR, '.resume-data')))

# Extract resume data from HTML elements
resume_data = {}
elements = driver.find_elements_by_css_selector('.resume-data')
for element in elements:
    key = element.get_attribute('data-key')
    value = element.text.strip()
    resume_data[key] = value

# Save resume to PDF (install PyPDF2 if not already installed)
import PyPDF2
with open('resume.pdf', 'wb') as f:
    pdf = PyPDF2.PdfFileWriter()
    # Assuming the HTML elements are in a container with class 'pdf-container'
    containers = driver.find_elements_by_css_selector('.pdf-container')
    for container in containers:
        page = PyPDF2.PageObject(container)
        pdf.addPage(page)
    f.write(pdf.write('P'))

# Close WebDriver instance
driver.quit()